・処理は分けた方がよい。
    ・processesは単にtrainのfor文の中身を書き下すようにするのではなく, あくまでforward部分だけにする
        その方がvalidation等後で使いやすい
        例. optimizerprocessはやめた。
    なんでもかんでも同じもので表そうとするな。
・configを保存するのではなくそれからクラスを作ってしまう。

train_processesをどうするか？

いくつかの処理を定義し, その処理を組み合わせる形で実装したい。
    下流タスクとかを楽にしたいので

    処理自体はモデルに実装した方がいいか？
    引数の入力はどうするべきか。
        複数のprocessを別の引数で使うこともありうるが, そのときにどうするか。
        基本おなじとして, 一部変換も指定できるようにする。

やりたいこと:
    なるべく簡単に1からconfigが書けるようにしたい。
        現状, ソースコードを見ないと書けないのはなんとかならないのか。
            まあ普通のライブラリでもDocsとかがあって初めてわかるものなので, むしろコードを見て書くというのは合理的ではないか。
                →なのでコードを分かりやすくすることが大事。
        pylanceを使うことはできないか。
            よさそう。
            ~configというクラスを必ず作るという感じで。
            ただ2重にするのは難しい。
            
    コードを分かりやすくしたい。
        オプションに関するものは別モジュールにする。

    どうせならいろんなツールを充実させたい。
        デバッグを容易にする。
            エラー時に再現できるようにする。
        モデル構造を示す。
        色んなツールへの対応
            multi GPU, ZeRO, ...


<雑多なアイデアなど>
BatchSamplerはlength_datasetをとることで, bucketingもできるようにする。
Samplerにstate_dictを作る。

<さらに適当な概念など>
iteratorの雛形というか親クラスは引数とするが, イテレータ自体はtrain.py内で作成する。
    load_state_dictがしたいので。
    load_state_dictとstate_dictも親クラスにやってもらえばよいのでは?
    なんか関数を指定させるというのはやりたくないが。。。
        どういう条件で使われるのか指定しないといけないので。